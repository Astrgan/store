<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ЦКТ 100 литров - BrewMaster</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/product.css">
    <style>
        /* Добавляем базовые стили для product-details на случай, если CSS файлы не загружаются */
        .product-details {
            margin-bottom: 4rem;
            padding: 1.5rem;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }

        .product-details h3 {
            margin-bottom: 1.5rem;
            color: #2c3e50;
        }

        .product-description-text {
            line-height: 1.6;
            white-space: pre-line; /* Сохраняет переносы строк из текста */
        }
    </style>
</head>
<body>
<!-- Шапка -->
<header>
    <div class="container">
        <div class="header-content">
            <div class="logo">Brew<span>Master</span></div>
        </div>
    </div>
</header>

<!-- Хлебные крошки -->
<div class="breadcrumbs">
    <div class="container">
        <a href="#">Главная</a> > <a href="#">Каталог</a> > <a href="#">ЦКТ</a> > <span>ЦКТ 100 литров</span>
    </div>
</div>

<!-- Основной контент -->
<div class="container">
    <div class="product-page">
        <!-- Галерея изображений -->
        <div class="product-gallery">
            <div class="main-image">
                <img src="https://via.placeholder.com/600x400/ECF0F1/2C3E50?text=ЦКТ+100+л" alt="ЦКТ 100 литров" id="mainImage">
            </div>
            <div class="thumbnail-gallery">
                <div class="thumbnail active" data-image="https://via.placeholder.com/600x400/ECF0F1/2C3E50?text=ЦКТ+100+л">
                    <img src="https://via.placeholder.com/100x80/ECF0F1/2C3E50?text=1" alt="ЦКТ 100 литров вид 1">
                </div>
                <div class="thumbnail" data-image="https://via.placeholder.com/600x400/ECF0F1/2C3E50?text=Внутреннее+устройство">
                    <img src="https://via.placeholder.com/100x80/ECF0F1/2C3E50?text=2" alt="ЦКТ 100 литров вид 2">
                </div>
                <div class="thumbnail" data-image="https://via.placeholder.com/600x400/ECF0F1/2C3E50?text=Люк+и+арматура">
                    <img src="https://via.placeholder.com/100x80/ECF0F1/2C3E50?text=3" alt="ЦКТ 100 литров вид 3">
                </div>
                <div class="thumbnail" data-image="https://via.placeholder.com/600x400/ECF0F1/2C3E50?text=Комплектация">
                    <img src="https://via.placeholder.com/100x80/ECF0F1/2C3E50?text=4" alt="ЦКТ 100 литров вид 4">
                </div>
            </div>
        </div>

        <!-- Информация о товаре -->
        <!--/*@thymesVar id="product" type="ru.example.store.Product"*/-->
        <div class="product-info">
            <h1 th:text="${product.name}" class="product-title">ЦКТ 100 литров</h1>
            <div class="product-rating">
                <div class="stars">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star-half-alt"></i>
                </div>
            </div>
            <div th:text="${product.prise()}" class="product-price">85 000 ₽</div>
            <div class="product-description">
                <p th:text="${product.miniDescription()}"></p>
            </div>

            <div class="quantity-selector">
                <div class="quantity-label">Количество:</div>
                <input type="number" class="quantity-input" value="1" min="1">
            </div>

            <div class="action-buttons">
                <button class="btn btn-primary"><i class="fas fa-shopping-cart"></i> Добавить в корзину</button>
            </div>
        </div>
    </div>

    <!-- Детали товара - ИСПРАВЛЕННАЯ ВЕРСИЯ -->
    <div class="product-details">
        <h3>Подробное описание</h3>
        <div class="product-description-text" th:text="${product.description()}"></div>
    </div>
</div>

<!-- Подвал -->
<footer>
    <div class="container">
        <div class="footer-content">
            <div class="footer-column">
                <h3>BrewMaster</h3>
                <p>Профессиональное оборудование для пивоварения. Все для вашего успешного бизнеса.</p>
            </div>
            <div class="footer-column">
                <h3>Категории</h3>
                <ul>
                    <li><a href="#">ЦКТ</a></li>
                    <li><a href="#">Котлы</a></li>
                    <li><a href="#">Клампы</a></li>
                    <li><a href="#">Насосы</a></li>
                    <li><a href="#">Аксессуары</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Информация</h3>
                <ul>
                    <li><a href="#">О компании</a></li>
                    <li><a href="#">Доставка и оплата</a></li>
                    <li><a href="#">Гарантия</a></li>
                    <li><a href="#">Контакты</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Контакты</h3>
                <ul>
                    <li><i class="fas fa-phone"></i> +7 (495) 123-45-67</li>
                    <li><i class="fas fa-envelope"></i> info@brewmaster.ru</li>
                    <li><i class="fas fa-map-marker-alt"></i> Москва, ул. Пивоваренная, 15</li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2023 BrewMaster. Все права защищены.</p>
        </div>
    </div>
</footer>

<script>
    // Переключение изображений в галерее
    document.querySelectorAll('.thumbnail').forEach(thumb => {
        thumb.addEventListener('click', function() {
            // Убираем активный класс у всех миниатюр
            document.querySelectorAll('.thumbnail').forEach(t => {
                t.classList.remove('active');
            });

            // Добавляем активный класс к текущей миниатюре
            this.classList.add('active');

            // Меняем основное изображение
            const mainImage = document.getElementById('mainImage');
            mainImage.src = this.getAttribute('data-image');
        });
    });

    // Обработка добавления в корзину
    document.querySelector('.btn-primary').addEventListener('click', function() {
        const quantity = document.querySelector('.quantity-input').value;
        alert(`Товар "ЦКТ 100 литров" в количестве ${quantity} шт. добавлен в корзину!`);

        // Обновляем счетчик корзины
        const cartCount = document.querySelector('.cart-count');
        cartCount.textContent = parseInt(cartCount.textContent) + parseInt(quantity);
    });
</script>
</body>
</html>